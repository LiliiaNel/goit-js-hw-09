{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const STORAGE_KEY = \"feedback-form-state\";\nconst formData = { email: \"\", message: \"\" };\n\nconst form = document.querySelector(\".feedback-form\");\nconst email = form.querySelector(\"input\");\nconst message = form.querySelector(\"textarea\");\n\ndataFromLocalStorage();\nform.addEventListener(\"submit\", onFormSubmit);\nform.addEventListener(\"input\", onFormInput);\n\nfunction onFormInput(event) {\n    if (event.target.nodeName === \"INPUT\") {\n        formData.email = event.target.value;\n    }\n    if (event.target.nodeName === \"TEXTAREA\") {\n        formData.message = event.target.value;\n    }    \n    localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n}\n\n\nfunction dataFromLocalStorage() {\n    const savedMsg = localStorage.getItem(STORAGE_KEY);\n    if (savedMsg === null || typeof savedMsg !== \"string\") {\n        return;\n    }\n    savedMsg.trim();\n    const parsedMsg = JSON.parse(savedMsg); \n    Object.keys(parsedMsg).forEach((key) => {\n        formData[key] = parsedMsg[key];\n    });\n    \n}\n\n\nfunction onFormSubmit(event) {\n    event.preventDefault();\n    if (formData.email === \"\" || formData.message === \"\") {\n        alert(\"Fill please all fields\");\n        return;\n    } else {\n        console.log(formData); \n        localStorage.removeItem(STORAGE_KEY);\n        const targetForm = event.currentTarget;\n        targetForm.reset();\n    }\n   \n}\n"],"names":["STORAGE_KEY","formData","form","dataFromLocalStorage","onFormSubmit","onFormInput","event","savedMsg","parsedMsg","key"],"mappings":"wFAAA,MAAMA,EAAc,sBACdC,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EAEnCC,EAAO,SAAS,cAAc,gBAAgB,EACtCA,EAAK,cAAc,OAAO,EACxBA,EAAK,cAAc,UAAU,EAE7CC,IACAD,EAAK,iBAAiB,SAAUE,CAAY,EAC5CF,EAAK,iBAAiB,QAASG,CAAW,EAE1C,SAASA,EAAYC,EAAO,CACpBA,EAAM,OAAO,WAAa,UAC1BL,EAAS,MAAQK,EAAM,OAAO,OAE9BA,EAAM,OAAO,WAAa,aAC1BL,EAAS,QAAUK,EAAM,OAAO,OAEpC,aAAa,QAAQN,EAAa,KAAK,UAAUC,CAAQ,CAAC,CAC9D,CAGA,SAASE,GAAuB,CAC5B,MAAMI,EAAW,aAAa,QAAQP,CAAW,EACjD,GAAIO,IAAa,MAAQ,OAAOA,GAAa,SACzC,OAEJA,EAAS,KAAI,EACb,MAAMC,EAAY,KAAK,MAAMD,CAAQ,EACrC,OAAO,KAAKC,CAAS,EAAE,QAASC,GAAQ,CACpCR,EAASQ,CAAG,EAAID,EAAUC,CAAG,CACrC,CAAK,CAEL,CAGA,SAASL,EAAaE,EAAO,CAEzB,GADAA,EAAM,eAAc,EAChBL,EAAS,QAAU,IAAMA,EAAS,UAAY,GAAI,CAClD,MAAM,wBAAwB,EAC9B,MACR,MACQ,QAAQ,IAAIA,CAAQ,EACpB,aAAa,WAAWD,CAAW,EAChBM,EAAM,cACd,MAAK,CAGxB"}