{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const STORAGE_KEY = \"feedback-form-state\";\nconst formData = { email: \"\", message: \"\" };\n\nconst form = document.querySelector(\".feedback-form\");\nconst email = form.querySelector(\"input\");\nconst message = form.querySelector(\"textarea\");\n\ndataFromLocalStorage();\nform.addEventListener(\"submit\", onFormSubmit);\nform.addEventListener(\"input\", onFormInput);\n\nfunction onFormInput(event) {\n    if (event.target.nodeName === \"INPUT\") {\n        formData.email = event.target.value;\n    }\n    if (event.target.nodeName === \"TEXTAREA\") {\n        formData.message = event.target.value;\n    }    \n    localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n}\n\n\nfunction dataFromLocalStorage() {\n    const savedMsg = localStorage.getItem(STORAGE_KEY);\n    if (savedMsg === null || typeof savedMsg !== \"string\") {\n        return;\n    }\n    savedMsg.trim();\n    const parsedMsg = JSON.parse(savedMsg); \n    Object.keys(parsedMsg).forEach((key) => {\n        formData[key] = parsedMsg[key];\n    });\n    email.value = formData.email;\n    message.value = formData.message;\n}\n\n\nfunction onFormSubmit(event) {\n    event.preventDefault();\n    if (formData.email === \"\" || formData.message === \"\") {\n        alert(\"Fill please all fields\");\n        return;\n    } else {\n        console.log(formData); \n        localStorage.removeItem(STORAGE_KEY);\n        const targetForm = event.currentTarget;\n        targetForm.reset();\n        formData.email = \"\";\n        formData.message = \"\";\n    }\n   \n}\n"],"names":["STORAGE_KEY","formData","form","email","message","dataFromLocalStorage","onFormSubmit","onFormInput","event","savedMsg","parsedMsg","key"],"mappings":"wFAAA,MAAMA,EAAc,sBACdC,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EAEnCC,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAQD,EAAK,cAAc,OAAO,EAClCE,EAAUF,EAAK,cAAc,UAAU,EAE7CG,IACAH,EAAK,iBAAiB,SAAUI,CAAY,EAC5CJ,EAAK,iBAAiB,QAASK,CAAW,EAE1C,SAASA,EAAYC,EAAO,CACpBA,EAAM,OAAO,WAAa,UAC1BP,EAAS,MAAQO,EAAM,OAAO,OAE9BA,EAAM,OAAO,WAAa,aAC1BP,EAAS,QAAUO,EAAM,OAAO,OAEpC,aAAa,QAAQR,EAAa,KAAK,UAAUC,CAAQ,CAAC,CAC9D,CAGA,SAASI,GAAuB,CAC5B,MAAMI,EAAW,aAAa,QAAQT,CAAW,EACjD,GAAIS,IAAa,MAAQ,OAAOA,GAAa,SACzC,OAEJA,EAAS,KAAI,EACb,MAAMC,EAAY,KAAK,MAAMD,CAAQ,EACrC,OAAO,KAAKC,CAAS,EAAE,QAASC,GAAQ,CACpCV,EAASU,CAAG,EAAID,EAAUC,CAAG,CACrC,CAAK,EACDR,EAAM,MAAQF,EAAS,MACvBG,EAAQ,MAAQH,EAAS,OAC7B,CAGA,SAASK,EAAaE,EAAO,CAEzB,GADAA,EAAM,eAAc,EAChBP,EAAS,QAAU,IAAMA,EAAS,UAAY,GAAI,CAClD,MAAM,wBAAwB,EAC9B,MACR,MACQ,QAAQ,IAAIA,CAAQ,EACpB,aAAa,WAAWD,CAAW,EAChBQ,EAAM,cACd,MAAK,EAChBP,EAAS,MAAQ,GACjBA,EAAS,QAAU,EAG3B"}